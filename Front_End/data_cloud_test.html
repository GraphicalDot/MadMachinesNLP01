<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title img=>Mad Machines REProE Test</title>
		<meta name="description" content="Mad Machines REProE POC">
		<meta charset="UTF-8">
		<link href="css/bootstrap.css" rel="stylesheet">
		<link href="css/search.css" rel="stylesheet">
		<link href="css/bootstrap-responsive.css" rel="stylesheet">
		<link href="css/jquery-ui.css" rel="stylesheet">
		<link href="css/tipsy.css" rel="stylesheet">
		<link href="css/jquery.bxslider.css" rel="stylesheet">
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Playfair+Display:900' rel='stylesheet' type='text/css'>
		
		<script type="text/javascript" src="js/libs/chart.min.js"></script>
		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script type="text/javascript" src="js/highchart.js"></script>
		<script type=text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		
		<script type="text/javascript" src="js/jquery.bxslider.js"></script>
		
		
		<script type="text/javascript" src="js/libs/handlebars/handlebars-1.0.rc.1.min.js"></script>
		<script type="text/javascript" src="js/libs/mustache/mustache.js"></script>
		<script type="text/javascript" src="js/libs/underscore/underscore.js"></script>
		<script type="text/javascript" src="js/libs/underscore/underscore.string.min.js"></script>
		<script type="text/javascript" src="js/libs/bootbox/bootbox.min.js"></script>
		<script type="text/javascript" src="js/libs/backbone/backbone.js"></script>
		<script type="text/javascript" src="js/libs/d3/d3.js"></script>
		<script type="text/javascript" src="js/libs/d3.layout.cloud.js"></script>
		<script type="text/javascript" src="js/libs/jquery-ui.js"></script>
		<script type="text/javascript" src="js/libs/jquery.tipsy.js"></script>
		<script type="text/javascript" src="js/libs/bootstrap/bootstrap-carousel.js"></script>
		<script src="http://code.highcharts.com/modules/exporting.js"></script>
		 <style>
  .carousel-inner > .item > div,
    .carousel-inner > .item > a > div {
	          width: 100%;
		        margin: auto;
			  }
			    </style>

		</head>
		<script>
	 		var jqhr = $.post("http://localhost:8000/eatery_details", {"eatery_id": "799"})
			jqhr.done(function(data){
				if (data.error == false){
					console.log(data.result)
		makeChart(data.result.food, "x", "food")
		makeChart(data.result.ambience, "x", "ambience")
		makeChart(data.result.cost, "x", "cost")
		makeChart(data.result.service, "x", "service")
		
		makeChart(data.result.food, "x", "foodx")
		makeChart(data.result.ambience, "x", "ambiencex")
		makeChart(data.result.cost, "x", "costx")
		makeChart(data.result.service, "x", "servicex")
								                                        }
										                         else{
											                               } 
										                       })




		function makeChart(__data, eatery_name, category){ 
			$('.' + category).highcharts({
                                chart: {
                                        margin: [0, 0, 0, 0],
					type: 'bar',
                                        height: 600,
                                        },

                                credits: {
                                        enabled: false
                                                        },
                                title: {
                                        text: category + " word cloud, " + eatery_name
                                        },
                                xAxis: {
                                        categories: __data.categories,
                                        },
                                yAxis: {
                                        min: 0,
                                        title: {
                                                text: 'total frequency'
                                                }
                                        },
                                legend: {
                                        reversed: true
                                        },
                                plotOptions: {
                                           groupPadding:0.1,
                                                             pointWidth:20,
                                                                               pointPadding: 0,


                                        series: {
                                                animation: {
                                                                            duration: 2000,
                                                                                                easing: 'easeOutBounce'
                                                                                                                        },
                                                stacking: 'normal'
                                                }
                                                },
				series: __data.series,
                                exporting: { enabled: false }
                                                });
				}

		</script>
	
	
	
		<body>

			<div class="container-fluid">
				<div class="row">
					<br><br>
					 <div id="myCarousel" class="carousel slide" data-ride="carousel">
    						<!-- Indicators -->
    						<ol class="carousel-indicators">
      						<li data-target="#myCarousel" data-slide-to="0"></li>
      						<li data-target="#myCarousel" data-slide-to="1" class="active"></li>
      						<li data-target="#myCarousel" data-slide-to="2"></li>
      						<li data-target="#myCarousel" data-slide-to="3"></li>
    						</ol>

    				<!-- Wrapper for slides -->
    						<div class="carousel-inner" role="listbox">
      							<div class="item active">
								<div class="foodx"></div>
      								
							</div>

      							<div class="item">
								<div class="costx"></div>
      							</div>
    
							<div class="item">
								<div class="ambiencex"></div>
      							</div>

      							<div class="item">
								<div class="servicex"></div>
      							</div>
    						</div>

    				<!-- Left and right controls -->
						<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
							<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
							<span class="sr-only">Previous</span>
						</a>
						<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
							<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
							<span class="sr-only">Next</span>
						</a>
				</div>

				</div>
				<div class="row">
					 <div class="col-xs-6">
						<div class="food"></div>
					 </div>
					 <div class="col-xs-6">
						<div class="ambience"></div>
					</div>
				
				</div>
				<div class="row">
					 <div class="col-xs-6">
						<div class="cost"></div>
					</div>
					 <div class="col-xs-6">
						<div class="service"></div>
					</div>
				</div>

			</div>		

	<script src="js/test_libraries.js"></script>

    </body>
</html>



