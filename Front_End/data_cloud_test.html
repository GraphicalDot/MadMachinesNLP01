<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title img=>Mad Machines REProE Test</title>
		<meta name="description" content="Mad Machines REProE POC">
		<meta charset="UTF-8">
		<link href="css/bootstrap.css" rel="stylesheet">
		<link href="css/search.css" rel="stylesheet">
		<link href="css/bootstrap-responsive.css" rel="stylesheet">
		<link href="css/jquery-ui.css" rel="stylesheet">
		<link href="css/tipsy.css" rel="stylesheet">
		<link href="css/jquery.bxslider.css" rel="stylesheet">
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Playfair+Display:900' rel='stylesheet' type='text/css'>
		
		<script type="text/javascript" src="js/libs/chart.min.js"></script>
		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script type="text/javascript" src="js/highchart.js"></script>
		<script type=text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		
		<script type="text/javascript" src="js/jquery.bxslider.js"></script>
		
		
		<script type="text/javascript" src="js/libs/handlebars/handlebars-1.0.rc.1.min.js"></script>
		<script type="text/javascript" src="js/libs/mustache/mustache.js"></script>
		<script type="text/javascript" src="js/libs/underscore/underscore.js"></script>
		<script type="text/javascript" src="js/libs/underscore/underscore.string.min.js"></script>
		<script type="text/javascript" src="js/libs/bootbox/bootbox.min.js"></script>
		<script type="text/javascript" src="js/libs/backbone/backbone.js"></script>
		<script type="text/javascript" src="js/libs/d3/d3.js"></script>
		<script type="text/javascript" src="js/libs/d3.layout.cloud.js"></script>
		<script type="text/javascript" src="js/libs/jquery-ui.js"></script>
		<script type="text/javascript" src="js/libs/jquery.tipsy.js"></script>
		<script type="text/javascript" src="js/libs/bootstrap/bootstrap-carousel.js"></script>
		<script type="text/javascript" src="js/basicJquerySlider/bjqs-1.3.min.js"></script>
		<link href="js/basicJquerySlider/bjqs.css" rel="stylesheet">
		
		<script src="http://code.highcharts.com/modules/exporting.js"></script>
		<script>
			$(document).ready(function($) {
					console.log("i called");
	 				var jqhr = $.post("http://localhost:8000/eatery_details", {"eatery_id": "799"})
					jqhr.done(function(data){
						if (data.error == false){
								console.log(data.result)
								makeChart(data.result.food, "x", "food")
								makeChart(data.result.ambience, "x", "ambience")
								makeChart(data.result.cost, "x", "cost")
								makeChart(data.result.service, "x", "service")
		
								makeChart(data.result.food, "x", "foodx")
								makeChart(data.result.ambience, "x", "ambiencex")
								makeChart(data.result.cost, "x", "costx")
								makeChart(data.result.service, "x", "servicex")
						$('#banner-fade').bjqs({
									'height' : 320,
											'width' : 620,
													'responsive' : true
														});
								                                        }
						else{
							console.log("Failed");
									} 
										                       })




		function makeChart(__data, eatery_name, category){ 
			$('.' + category).highcharts({
                                chart: {
                                        margin: [0, 0, 0, 0],
					type: 'bar',
                                        height: 600,
                                        },

                                credits: {
                                        enabled: false
                                                        },
                                title: {
                                        text: category + " word cloud, " + eatery_name
                                        },
                                xAxis: {
                                        categories: __data.categories,
                                        },
                                yAxis: {
                                        min: 0,
                                        title: {
                                                text: 'total frequency'
                                                }
                                        },
                                legend: {
                                        reversed: true
                                        },
                                plotOptions: {
                                           groupPadding:0.1,
                                                             pointWidth:20,
                                                                               pointPadding: 0,


                                        series: {
                                                animation: {
                                                                            duration: 2000,
                                                                                                easing: 'easeOutBounce'
                                                                                                                        },
                                                stacking: 'normal'
                                                }
                                                },
				series: __data.series,
                                exporting: { enabled: false }
                                                });
				}

						});

		</script>
	
	
		</head>
		<body>
	

			<div class="container-fluid">
				<div class="row">
					<div id="my-slideshow">
							<ul class="bjqs">
					<li class="food"></li>
					<li class="service"></li>
					<li class="cost"></li>
					<li class="ambience"></li>
													</ul>
												</div>
				
				
				</div>

			</div>		

    </body>
</html>



